from langchain_core.messages import HumanMessage,AIMessage
from langchain_core.messages import ToolMessage

x={'messages': [HumanMessage(content=' you are good in talking with user if user ask question general questions then donot use any tool but if user ask question related to tourism then first search in website https://www.britannica.com/topic/tourism  if answer is not found in webssite then use vector db tool  and if user ask about flights use flight tool here is the question: my name is sam', additional_kwargs={}, response_metadata={}, id='4ccbc368-64d6-40a7-bcf8-ddb9022fed83'), AIMessage(content='Hello, Sam! How can I help you today?', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 345, 'prompt_tokens': 266, 'total_tokens': 611, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 320, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'o1-2024-12-17', 'system_fingerprint': 'fp_334c74d916', 'finish_reason': 'stop', 'logprobs': None}, id='run--6e2afd1c-17ce-4d4d-a66f-c330b0139965-0', usage_metadata={'input_tokens': 266, 'output_tokens': 345, 'total_tokens': 611, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 320}}), HumanMessage(content=' you are good in talking with user if user ask question general questions then donot use any tool but if user ask question related to tourism then first search in website https://www.britannica.com/topic/tourism  if answer is not found in webssite then use vector db tool  and if user ask about flights use flight tool here is the question: Define a tour operator and its primary functions.', additional_kwargs={}, response_metadata={}, id='5b475f07-8398-4b68-8a6b-31745bcd3ee7'), AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_mFipJNNC8JoLOm0XXLseV2Fx', 'function': {'arguments': '{"query":"Define a tour operator and its primary functions site:https://www.britannica.com/topic/tourism"}', 'name': 'tavily_search_results_json'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 756, 'prompt_tokens': 368, 'total_tokens': 1124, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 704, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'o1-2024-12-17', 'system_fingerprint': 'fp_334c74d916', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run--a765533e-ea1d-4a27-9371-78bba9650962-0', tool_calls=[{'name': 'tavily_search_results_json', 'args': {'query': 'Define a tour operator and its primary functions site:https://www.britannica.com/topic/tourism'}, 'id': 'call_mFipJNNC8JoLOm0XXLseV2Fx', 'type': 'tool_call'}], usage_metadata={'input_tokens': 368, 'output_tokens': 756, 'total_tokens': 1124, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 704}}), ToolMessage(content='[{"title": "Tourism - Day Trips, Domestic Travel | Britannica", "url": "https://www.britannica.com/topic/tourism/Day-trippers-and-domestic-tourism", "content": "Workforce LibreTexts - Impacts of Tourism/01%3A_History_and_Overview/1.06%3A_Impacts_of_Tourism)\\n   VIVA Open Publishing - Fundamentals of Business - Hospitality and Tourism\\n   Rice University - History and Overview of Tourism\\n\\nBritannica Websites\\n\\nArticles from Britannica Encyclopedias for elementary and high school students.\\n\\n   tourism - Children\'s Encyclopedia (Ages 8-11)\\n   tourism - Student Encyclopedia (Ages 11 and up)\\n\\nImage 30Image 31\\n\\n✕ [...] While every effort has been made to follow citation style rules, there may be some discrepancies. Please refer to the appropriate style manual or other sources if you have any questions. \\n\\nSelect Citation Style\\n\\nWalton, John K.. \\"tourism\\". _Encyclopedia Britannica_, 23 Jun. 2025,  Accessed 30 June 2025.\\n\\nCopy Citation\\n\\n Share \\n\\nShare to social media\\n\\nFacebookX\\n\\nURL\\n\\n External Websites [...] examining this important industry continues to expand, historical perspectives will develop further.", "score": 0.21440381}]', name='tavily_search_results_json', id='201e686b-f1dc-4d52-a0ff-2d78dedf4ab6', tool_call_id='call_mFipJNNC8JoLOm0XXLseV2Fx', artifact={'query': 'Define a tour operator and its primary functions site:https://www.britannica.com/topic/tourism', 'follow_up_questions': None, 'answer': None, 'images': [], 'results': [{'title': 'Tourism - Day Trips, Domestic Travel | Britannica', 'url': 'https://www.britannica.com/topic/tourism/Day-trippers-and-domestic-tourism', 'content': 'Workforce LibreTexts - Impacts of Tourism/01%3A_History_and_Overview/1.06%3A_Impacts_of_Tourism)\n   VIVA Open Publishing - Fundamentals of Business - Hospitality and Tourism\n   Rice University - History and Overview of Tourism\n\nBritannica Websites\n\nArticles from Britannica Encyclopedias for elementary and high school students.\n\n   tourism - Children\'s Encyclopedia (Ages 8-11)\n   tourism - Student Encyclopedia (Ages 11 and up)\n\nImage 30Image 31\n\n✕ [...] While every effort has been made to follow citation style rules, there may be some discrepancies. Please refer to the appropriate style manual or other sources if you have any questions. \n\nSelect Citation Style\n\nWalton, John K.. "tourism". _Encyclopedia Britannica_, 23 Jun. 2025,  Accessed 30 June 2025.\n\nCopy Citation\n\n Share \n\nShare to social media\n\nFacebookX\n\nURL\n\n External Websites [...] examining this important industry continues to expand, historical perspectives will develop further.', 'score': 0.21440381, 'raw_content': None}], 'response_time': 2.38}), AIMessage(content='', additional_kwargs={'tool_calls': [{'id': 'call_GC6wsU766bDCCGWDrZXvY6j5', 'function': {'arguments': '{"query":"Define a tour operator and its primary functions"}', 'name': 'vector_db'}, 'type': 'function'}], 'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 291, 'prompt_tokens': 712, 'total_tokens': 1003, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 256, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'o1-2024-12-17', 'system_fingerprint': 'fp_334c74d916', 'finish_reason': 'tool_calls', 'logprobs': None}, id='run--97d3768a-2bd9-4428-9bde-ac94663ec4ee-0', tool_calls=[{'name': 'vector_db', 'args': {'query': 'Define a tour operator and its primary functions'}, 'id': 'call_GC6wsU766bDCCGWDrZXvY6j5', 'type': 'tool_call'}], usage_metadata={'input_tokens': 712, 'output_tokens': 291, 'total_tokens': 1003, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 256}}), ToolMessage(content='[(Document(metadata={\'chunk_index\': 32, \'source\': \'JSHY11 - I Sem - Introduction to Tourism.pdf\'}, page_content="31 \\n \\nDefinitions of Tour Operator \\nPoyther (1993) defines, “tour operator is   one who has the responsibility of putting the tour \\ningredients together, marketing it, making reservations and handling actual operation.” \\nHolloway (1992) stated that tour operations undertake a distinct function in the  tourism industry, \\nthey purchase separate elements of tourism products/servi ces and combine them into a package \\ntour which they sell directly or indirectly to the tourists. \\n \\n\\uf0b7 Inbound tour operators, \\n\\uf0b7 Outbound tour operators, \\n\\uf0b7 Domestic tour \\nWe can say that tour operators play a key role in deciding the volume of tourists reaching a \\ndestination. They also have direct control over the tourist\'s choice of products and create demand \\nfor a destination through their representation of the destination packages. \\nPlus Skills and Education \\nTour operators advise customers about travel options an d organise tours for individuals or groups \\nof travelers. These professionals can have many job responsibilities, such as preparing tour \\nitineraries and coordinating with vendors. If you enjoy travelling and working with people, you may \\nwant to learn more a bout a career as a tour operator, including their typical job duties. In this \\narticle, we explain a tour operator\'s roles, outline the necessary skills and education for these jobs, \\nand describe their typical work environment. \\n Types of tour operators and their roles \\nTour operators are basically categorised into four types . These are categories on the basis of the \\nnature of the business and its operations. \\n1. Inbound Tour Operators"), 0.5484210252761841), (Document(metadata={\'chunk_index\': 34, \'source\': \'JSHY11 - I Sem - Introduction to Tourism.pdf\'}, page_content="33 \\n \\nRole of Tour Operators  \\nTour operators may specialise in developing tour itineraries for specific des tinations, while others \\nprovide support to customers travelling to many destinations. While a tour operator\'s role can vary \\nbased on their position and employer, these professionals are commonly responsible for: \\n\\uf0b7 Developing tour packages: These professionals  develop tour packages for individual \\ncustomers or groups of travelers. They work with customers to understand their interests \\nand recommend a variety of attractions, accommodations, and transportation options to \\nhelp customers choose their tour packages. \\n\\uf0b7 Negotiating rates: Tour operators commonly negotiate rates with other vendors, such as \\nhotels and transportation companies. For example, they may ask a hotel to reduce rates for \\na block of rooms for a large group of travellers. \\n\\uf0b7 Arranging travel:These professionals help arrange travel plans for customers so they can get \\nto their destinations. For example, they may book train tickets to help customers travel \\nbetween cities or reserve a rental car so customers can get to various attractions. \\n\\uf0b7 Providing customer support:A tour operator provides customer support to help their \\nclients prepare for trips. For example, they may answer customers\' questions about a \\ndestination, provide information about currency exchange rates, or notify them of any \\nchanges to an itinerary. \\n\\uf0b7 Preparing tour budgets:Tour operators work with customers to help them prepare a budget \\nfor their tour. They develop different itineraries with varying price points and advise clients \\non accommodations and attractions within their preferred budget. \\n\\uf0b7 Researching travel options: These professionals research various travel options to provide \\nrecommendations to their customers about where to visit, stay, and eat on their tours. They \\nread articles and search online for information about travel trends and new d estinations to \\nstay current in their field. \\nFunctions of Ground Tour Operators \\nIn order to adapt to the evolving tourism business, organisations have undergone significant change\\ns in their functions and activities throughout the years. \\nActually, travel agencies these days have grown more specialised and are required to offer travellers"), 0.5607200264930725), (Document(metadata={\'chunk_index\': 36, \'source\': \'JSHY11 - I Sem - Introduction to Tourism.pdf\'}, page_content=\'35 \\n \\nSince the reputation, performance, and profitability of a tour company within its own market are la\\nrgely dependent on the efficacy and efficiency of ground operators, the company must take into ac\\ncount a number of factors before choosing a handling agency. These factors include the following: \\nthe size of the business; the presence of professional staff; the length of the business; and the area o\\nf operation or product. \\nPlanning a tour \\nThe most important function of the tour operator is to plan a tour. Tour operators plan a tour and \\nmake a tour itinerary that contains the identification of the origin, destination, and all the stopping \\npoints in a traveller’s our. A prospective tour operat or also gives advice to intending tourists on \\nvarious types of tour programmes that they may choose for their leisure or commercial travel. \\nMaking a Tour Package \\nThe tour operator buys individual travel components separately from their suppliers and combin es \\nthem into a package tour. Tour operators make tour packages by assembling various travel \\ncomponents into a final product called a tour package, which is sold to tourists with their own price \\ntag. Making tour packages is also an important function of the tour operator. \\nArranging a Tour \\nTour operators make tour packages and also arrange a tour according to tourist demands. Tour \\noperators arrange the tour package and various tourist activities to provide the best experience to \\ntourists and travellers. \\nTravel Information \\nWhatever the size of the tour operators, they have provided necessary travel information to the \\ntourists. This task is utterly difficult and very complicated. A tour operator must give up -to-date, \\naccurate, and timely information regarding de stinations, modes of travel, accommodation, \\nsightseeing, immigration, health and security rules about various permits required to travel in a \\nparticular area, etc.\'), 0.6012535095214844), (Document(metadata={\'chunk_index\': 33, \'source\': \'JSHY11 - I Sem - Introduction to Tourism.pdf\'}, page_content=\'32 \\n \\n2. Outbound Tour Operators \\n3. Domestic Tour Operators \\n4. Ground Operators \\nIncoming tour companies They go by the name "incoming tour operators" as well. Inbound tour \\noperators are, technically speaking, those who receive visitors, clients, or tourists and manage the \\narrangements in the host nation. For instance, if TCI Ltd. arranges for and manages a group of \\nAmerican tourists travelling to India, the company is referred to as an inbound tour operator. \\nCoincidentally, over the past 20 years, there has been a decline in foreign travel to the country. \\nBasically, to meet the specific requirements of Japan, the United States, France, and Britain, tour \\noperators need to implement creative marketing techniques and launch particular focus tours. \\npeople. \\nTour operators that operate outside outbound tour operators are those who promote travel to \\nforeign countries, generally on a business or leisure excursion. When American tourists travel to \\nIndia, for instance, and Thomas Co ok makes every preparation in America (booking hotels, \\ntickets, etc.), Thomas Cook is referred to as an outbound tour operator in the US. \\nDOMESTIC TOUR OPERATORS \\nDomestic tour operators are those who assemble and combine tourist components into inclusive \\ntours and sell them to domestic travelers. In general, these tour operators provide travel services \\nwithin the tourist’s native country. The domestic tour operators operate within the boundaries of \\nthe home country and offer package tours to the travellers,  viz., domestic inclusive tours or \\nindependent tours. \\n Tour operators function An organisation, business, or individual in charge of taking care of the \\nactual arrangements for lodging and transportation on any trip or holiday is known as a tour \\noperator. A dditionally, they are in charge of organising and delivering vacations by hiring, \\nscheduling, and bundling all of the tour\\\'s extras, including lodging, transportation, meals, guides, \\nand occasionally even flights. A tour operator Similar to a supplier of g oods, a tour operator offers \\ntravellers the most practical way to arrive, stay, and depart from the city. A tour operator is in \\ncharge of a lot of travel.\'), 0.6451725363731384), (Document(metadata={\'source\': \'JSHY11 - I Sem - Introduction to Tourism.pdf\', \'chunk_index\': 31}, page_content=\'30 \\n \\nUNIT IV \\nTour Operator: Meaning of Tour Operator – Types of Tour Operator: Inbound, Outbound, \\nDomestic, Ground and Specialized – Role of Tour Operators – Itinerary Planning: Principles, \\nResources and Guidelines \\nObjectives \\n\\uf0b7 Assess the impact of technological advancements on the role and functions of travel agents, \\nconsidering the shift towards online booking platforms and their influence on traditional \\nagency models. \\n\\uf0b7 Investigate how professional development and training contribute to the enhancement of a \\ntravel agent\\\'s skills and competencies, highlighting their adaptability in a dynamic industry. \\n \\nTOUR OPERATOR \\nTour Operator: Meaning of Tour Operator \\nA tour operator is a business that typically combines and organises accommodations, meals, \\nsightseeing, and transportation components in order to create a package tour. They advertise and \\nproduce brochures to promote their products, holidays, and itineraries. \\nA tour operator is an organisation that purchases individual travel components from vendors \\nindividually and packages them into a trip that can be offered directly to the public or through \\nintermediaries at th eir own price. An incoming call is started by a potential or current client. The \\noperator of the call centre starts an outgoing call. Call centres: inbound and outbound. Incoming \\ncalls to a company or organisation are handled by inbound call centres. \\nAlthough this is only partially accurate, tour operators are frequently referred to as wholesalers \\nsince a wholesaler prepares a tour package by purchasing products and services in bulk on his own \\naccount and then retails it to customers directly or throug h travel agencies. On the other hand, a \\ntour operator that owns one or more components of tourism goods (SOTC, TCI, Thomas Cook, \\nIndo Asia KUONI) creates a new tourism product, such as "inclusive tours." In order to meet the \\nneeds of various types of trave llers, tour companies typically provide a variety of package travel \\noptions.\'), 0.6462329626083374), Document(id=\'e089cd4b-c598-400f-8724-d98bcdda1166\', metadata={\'id\': \'e089cd4b-c598-400f-8724-d98bcdda1166\', \'source\': \'Basics-of-Tourism-22-88_compressed.pdf\', \'page_number\': 5}, page_content=\'Front Office Operations\\n11\\nBoth the primary and secondary components are related to the smooth functioning \\nof the tourism industry. The growth and expansion of Tourism Industry is difficult in \\nabsence of these components.\\nIntermediaries \\nThe intermediaries constitute: \\n1. Travel Agency: They are the intermediary between the traveler and the supplier \\nof tourist services, i.e. airlines, transport companies, hotels and auto-rental \\ncompanies.\\n2. Tour Operator:  They are the manufacturers of tourism products. They \\nplan organize and sell tours. They make all necessary arrangements such as \\nsightseeing, transport, accommodation, insurance, entertainment and other \\nallied services and sell this ‘package’ for an all inclusive price.\\n3. Guide Services:  They explain about the culture and significance of a tourist \\nplace and make the guest feel comfortable by conversing in the language familiar \\nto the tourist.\\nHotels\\nTours\\nCruisesFlights\\nVisas\\nRole of International and National Tourism Organizations\\nOver the years a number of organizations have emerged in tourism. They have played \\na vital role in tourism policy formation, planning, promotion, infrastructure and resort \\ndevelopment, protecting the rights of tourists, negotiations, etc. Factors like importance \\nof tourism in generating foreign exchange, employment prospects, national interests, \\nand at times the stage of development have determined the need for such organizations \\nand accordingly influenced their growth and functions.\'), Document(id=\'10b6ce71-27c4-4b55-8eba-59fa513f7ba7\', metadata={\'id\': \'10b6ce71-27c4-4b55-8eba-59fa513f7ba7\', \'source\': \'Basics-of-Tourism-22-88_compressed.pdf\', \'page_number\': 3}, page_content=\'Front Office Operations\\n9\\n• Road Transport: It may Include Buses, Cars, taxis, Motor bikes etc.\\n• Rail Transport: It includes, Trains, Metro Trains.\\n• Air Transport: It includes Airplanes, helicopters, Jet planes etc.\\n• Water Transport: It may include, steamers, Ships, Cruise liners, Boats etc.\\n2. Accommodation: A tourist while travelling also stays en route or at the \\ndestination. Thus, accommodation is an essential requirement for Tourist and \\nit comprises a significant place in the Tourism Industry. Owing to the diverse \\nneeds, backgrounds and budgets of different tourists, accommodation could be \\nof different types. It may range from cottages, Tourist lodges, Yatri Niwas, to a \\nhouseboat, or a five star hotel.\'), Document(id=\'64c81c9b-2347-4270-bbc7-f1e9416ef27b\', metadata={\'id\': \'64c81c9b-2347-4270-bbc7-f1e9416ef27b\', \'source\': \'Basics-of-Tourism-22-88_compressed.pdf\', \'page_number\': 4}, page_content=\'10\\n3. Catering, Food and Entertainment: While in Transit another essential \\nrequirement of a tourist is healthy and safe food. Restaurants, fast food Joints, \\ndhabas, food courts, etc. offer different cuisines and a variety of Food and drinks \\nto meet the requirements of the travelers. Different forms of Entertainment are \\nalso provided at the destinations like, Music and dance performances, Magic \\nshows etc.\\n4. Intermediaries: They are the connecting link between a Tourist and the travel \\nrelated services. They facilitate a tourist in arranging various tourist services \\ni.e, hotel and airline bookings, rental taxis, providing travel information, foreign \\nexchange, travel insurance etc. The prominent Intermediaries are Travel agents, \\ntour operators and Guide services.\\n5. Government Departments/Tourist Information Centers/Tourism Organizations: \\nMany national and International organizations related to tourism form part of the \\ntourism industry. WTO (World Tourism organization), Department of tourism, \\nGovt. of India, State tourism departments and Tourism Corporations, ITDC (Indian \\ntourism Development Corporation) are to name a few examples.\\nSecondary Components\\nThere are variety of services that constitute the tourism and are directly or indirectly \\nrelated to tourism. Some of them are listed below:\\n1. Shops and Emporiums\\n2. Handicrafts and Souvenirs\\n3. Hawkers and Coolies\\n4. Telecommunication Services\\n5. Advertisement Agencies\\n6. Publishing Industry\\n7. Artists, Performers, Musicians\\n8. Insurance Companies\\n9. Banks, etc.\'), Document(id=\'d0b1e06a-5b85-459e-ab92-333362995827\', metadata={\'id\': \'d0b1e06a-5b85-459e-ab92-333362995827\', \'source\': \'Basics-of-Tourism-22-88_compressed.pdf\', \'page_number\': 6}, page_content=\'12\\nThese organizations exist in public as well as private sector and at different levels i.e. \\ninternational and national levels. For e.g. World Tourism Organization (WTO) and \\nIndian Tourism Development Corporation (ITDC).\\nSummary\\nIn this unit, we have seen that Tourism is defined in different ways. It is important \\nto understand that a Tourist has to return to the place of origin after being at a \\ndestination and enjoying the tourism related products and services.  Depending on \\nwhether the travel is within a country or between different countries, Tourism will be \\ndomestic or International respectively. Tourism has a significant importance for the \\neconomic, social and cultural growth of any country. We have already discussed the \\ntravel variables that influence people to travel. When travel motivators and barriers \\ncombine with these variables, they affect the travel destination and what type of travel \\nexperience the tourist signs up for. Today, the tourism industry offers many specialized \\nforms of tourism in order to meet the increasingly diverse and the unique requests of \\na demanding public.  People want to be able to choose from a variety of options based \\non to their needs and desires.\\nReview Questions\\n1. Enlist different components of Tourism Industry.\\n2. Discuss the role of Intermediaries in tourism.\\n3. What is the role of Tourism organizations in the promotion of Tourism?\\nPractical Activity\\n• Collect photographs of the evolution of modes of transport and prepare a \\ncollage.\\n• Prepare a survey report of twenty respondents on their reasons for \\ntravelling in last one year.\'), Document(id=\'0ed2794c-1514-4e19-ab54-b3592ee5c7c0\', metadata={\'id\': \'0ed2794c-1514-4e19-ab54-b3592ee5c7c0\', \'source\': \'Basics-of-Tourism-22-88_compressed.pdf\', \'page_number\': 2}, page_content=\'8\\nReview Questions\\n1. Why is Tourism important for the development of a country?\\n2. What are the various stakeholders of Tourism?\\n3. Give the detailed classification of Tourism with at least one example of each.\\n4. What is sustainable Tourism?\\n5. State True or False :\\na. Tourism is called smokeless Industry.\\nb. Ecotourism, Adventure Tourism and Wilderness tourism are types of \\nSustainable Tourism.\\nc. Active Tourism involves visiting a place of religious significance.\\nd. Tourism Industry is one of the largest generator of foreign exchange.\\ne. Supplementary accommodation is a type of informal or un-organized \\naccommodation.\\nSession-3\\n1.7 Components of Tourism Industry\\nTourism is a collection of several Industries that function separately with various types \\nof links with tourists. These links can be both incidental as well as purposeful, direct or \\nindirect. Together they are referred to as the components of Tourism. The components \\nof Tourism Industry are varied-ranging from small scale businesses operating at \\nlocal level to Multinational corporations. For Example a small food joint at a tourist \\ndestination is a component of Tourism as is an airline or a Star  hotel, as each one of \\nthem are serving the tourist in some way or the other.\\nMoreover, these different components are closely linked to each other.Infact, it’s a chain \\nof linkages and modern tourism is a result of the intermixing and combined efforts of \\nthe various components.\\nThe components that are essential for a tourist and are directly related to tourism are \\nreferred as Primary Components. The variety of tourism services that are indirectly \\nrelated to tourism are known as Secondary Components.\\nPrimary Components\\nThe essential components of tourism are listed below:\\n1. Transport: A mode of transport is required to travel from one place to another, \\nwhether by road, rail, air or sea. Also, sometimes the travel depends on the \\navailability of seats etc. Today the travel Industry is a highly developed industry. \\nThe various branches of travel includes:\')]', name='vector_db', id='a3bdffd6-620d-4b41-b3f9-927c287a36a2', tool_call_id='call_GC6wsU766bDCCGWDrZXvY6j5'), AIMessage(content='No direct information was found on https://www.britannica.com/topic/tourism. Therefore, I used the vector database. Below is a concise definition and primary functions of a tour operator based on the resource “JSHY11 - I Sem – Introduction to Tourism.pdf”:\n\nDefinition of a Tour Operator:\nA tour operator is an organization or business responsible for purchasing separate tourism components (such as transportation, accommodations, meals, and sightseeing arrangements) and combining them into a packaged tour. They then market and sell these packages—either directly to travelers or through other intermediaries.\n\nPrimary Functions of a Tour Operator:\n• Planning and Creating Tour Packages: Tour operators design tour itineraries by assembling various travel components and offering them as an all-inclusive package.  \n• Negotiating Rates: They work with hotels, transport services, and other vendors to secure better rates, which helps keep the total cost of the tour competitive.  \n• Arranging Travel Logistics: This includes booking transportation (e.g., flights, train tickets), securing accommodations, and scheduling activities and sightseeing.  \n• Providing Customer Support: Tour operators often handle customer inquiries, address special requests, assist with documentation, and offer travel advice.  \n• Managing Budgets: They help travelers plan tours in alignment with their financial needs by adjusting accommodations, activities, and destinations.  \n• Researching Travel Options: Tour operators continually research destinations, attractions, and travel trends to provide relevant, up-to-date options for travelers.\n\nSource of information: “JSHY11 - I Sem – Introduction to Tourism.pdf” (via vector database).', additional_kwargs={'refusal': None}, response_metadata={'token_usage': {'completion_tokens': 1164, 'prompt_tokens': 5046, 'total_tokens': 6210, 'completion_tokens_details': {'accepted_prediction_tokens': 0, 'audio_tokens': 0, 'reasoning_tokens': 832, 'rejected_prediction_tokens': 0}, 'prompt_tokens_details': {'audio_tokens': 0, 'cached_tokens': 0}}, 'model_name': 'o1-2024-12-17', 'system_fingerprint': 'fp_334c74d916', 'finish_reason': 'stop', 'logprobs': None}, id='run--124a5489-7907-4c43-a9b9-ba0dd8bdc280-0', usage_metadata={'input_tokens': 5046, 'output_tokens': 1164, 'total_tokens': 6210, 'input_token_details': {'audio': 0, 'cache_read': 0}, 'output_token_details': {'audio': 0, 'reasoning': 832}})]}
messages = x["messages"]

last_human_index = None
tool_msg_after = None

# Step 1: Find the index of the last HumanMessage
for i in reversed(range(len(messages))):
    if isinstance(messages[i], HumanMessage):
        last_human_index = i
        break

# Step 2: If found, search forward for any ToolMessage after it
if last_human_index is not None:
    for j in range(last_human_index + 1, len(messages)):
        if isinstance(messages[j], ToolMessage):
            tool_msg_after = messages[j].content
            break

# Step 3: Output
if tool_msg_after:
    print("ToolMessage after the last HumanMessage:")
    print(tool_msg_after)
else:
    print("No ToolMessage found after the last HumanMessage.")